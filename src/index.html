<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Personal vibe-coding notes website for tracking daily development insights, MCP tools, and workflow practices">
    <meta name="author" content="Developer">
    <meta name="theme-color" content="#3B82F6">
    
    <!-- Preconnect to font providers -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Font loading -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles/main.css">
    
    <!-- Progressive Web App meta -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Vibe Coding Notes">
    
    <title>Vibe Coding Notes - Developer Journal</title>
</head>
<body>
    <!-- Skip to content link for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Main application container -->
    <div class="app-container">
        <!-- Header with search and theme toggle -->
        <header class="app-header" role="banner">
            <div class="header-content">
                <h1 class="app-title">
                    <span class="title-icon">üìù</span>
                    Vibe Coding Notes
                </h1>
                
                <div class="header-actions">
                    <!-- Theme toggle -->
                    <button class="theme-toggle" 
                            id="theme-toggle" 
                            aria-label="Toggle dark mode"
                            title="Toggle dark/light theme">
                        <span class="theme-icon" aria-hidden="true"></span>
                    </button>
                    
                    <!-- Export button -->
                    <button class="export-btn" 
                            id="export-btn" 
                            aria-label="Export notes"
                            title="Export all notes as JSON">
                        <span class="export-icon" aria-hidden="true">üì§</span>
                        <span class="export-text">Export</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Search and filter interface -->
        <section class="search-section" aria-label="Search and filter notes">
            <div class="search-container">
                <!-- Search input -->
                <div class="search-input-wrapper">
                    <label for="search-input" class="sr-only">Search notes</label>
                    <input type="text" 
                           id="search-input" 
                           class="search-input"
                           placeholder="Search notes, tags, or content..."
                           autocomplete="off"
                           aria-describedby="search-description">
                    <span class="search-icon" aria-hidden="true">üîç</span>
                    <div id="search-description" class="sr-only">
                        Search through your notes by title, content, or tags. Results update in real-time.
                    </div>
                </div>
                
                <!-- Filter controls -->
                <div class="filter-controls" role="group" aria-label="Filter notes">
                    <div class="filter-chips">
                        <button class="filter-chip active" data-filter="all" aria-pressed="true">
                            All Time
                        </button>
                        <button class="filter-chip" data-filter="today" aria-pressed="false">
                            Today
                        </button>
                        <button class="filter-chip" data-filter="week" aria-pressed="false">
                            This Week
                        </button>
                        <button class="filter-chip" data-filter="month" aria-pressed="false">
                            This Month
                        </button>
                    </div>
                    
                    <!-- Todo filter chips -->
                    <div class="todo-filter-chips" style="display: none;">
                        <button class="filter-chip" data-todo-filter="all" aria-pressed="true">
                            All Notes
                        </button>
                        <button class="filter-chip" data-todo-filter="todos" aria-pressed="false">
                            Todos Only
                        </button>
                        <button class="filter-chip" data-todo-filter="active" aria-pressed="false">
                            Active Todos
                        </button>
                        <button class="filter-chip" data-todo-filter="completed" aria-pressed="false">
                            Completed Todos
                        </button>
                    </div>
                    
                    <!-- Tag filters (dynamically populated) -->
                    <div class="tag-filters" id="tag-filters" role="group" aria-label="Filter by tags">
                        <!-- Tag filter chips will be inserted here by JavaScript -->
                    </div>
                </div>
                
                <!-- Clear filters button -->
                <button class="clear-filters" 
                        id="clear-filters" 
                        style="display: none;"
                        aria-label="Clear all filters">
                    Clear Filters
                </button>
            </div>
            
            <!-- Search results count -->
            <div class="search-results-info" 
                 id="search-results-info" 
                 aria-live="polite" 
                 aria-atomic="true">
                <!-- Search results count will be inserted here -->
            </div>
        </section>

        <!-- Main content area -->
        <main id="main-content" class="main-content" role="main" aria-label="Notes interface">
            <!-- Notes grid container -->
            <section class="notes-section" aria-label="Notes list">
                <div class="notes-grid" id="notes-grid">
                    <!-- Add note card (first item in grid) -->
                    <article class="add-note-card" id="add-note-card" tabindex="0" role="button" aria-label="Add new note">
                        <div class="add-note-icon" aria-hidden="true">‚ûï</div>
                        <h2 class="add-note-text">Add New Note</h2>
                        <p class="add-note-description">Capture your insights and ideas</p>
                    </article>
                    
                    <!-- Note cards will be dynamically inserted here -->
                    <!-- Example note card structure for reference: -->
                    <!--
                    <article class="note-card" data-note-id="unique-id" tabindex="0">
                        <header class="note-header">
                            <div class="note-tags">
                                <span class="note-tag mcp-tool">MCP Tool</span>
                                <span class="note-tag best-practice">Best Practice</span>
                            </div>
                            <div class="note-meta">
                                <time class="note-timestamp" datetime="2025-08-02T10:30:00">2 hours ago</time>
                                <button class="note-actions-btn" aria-label="Note actions">‚ãÆ</button>
                            </div>
                        </header>
                        
                        <div class="note-content">
                            <h3 class="note-title">Note Title Here</h3>
                            <p class="note-body">First few lines of note content appear here...</p>
                        </div>
                        
                        <div class="note-actions" style="display: none;">
                            <button class="action-btn edit-btn" aria-label="Edit note" title="Edit">‚úèÔ∏è</button>
                            <button class="action-btn delete-btn" aria-label="Delete note" title="Delete">üóëÔ∏è</button>
                        </div>
                    </article>
                    -->
                </div>
                
                <!-- Empty state (shown when no notes exist) -->
                <div class="empty-state" id="empty-state" style="display: none;">
                    <div class="empty-icon" aria-hidden="true">üìù</div>
                    <h2 class="empty-title">Start Your Coding Journey</h2>
                    <p class="empty-description">
                        Capture insights, track progress, and build your developer story
                    </p>
                    <button class="empty-cta" id="empty-cta">Add Your First Note</button>
                </div>
                
                <!-- No search results state -->
                <div class="no-results-state" id="no-results-state" style="display: none;">
                    <div class="no-results-icon" aria-hidden="true">üîç</div>
                    <h2 class="no-results-title">No Notes Found</h2>
                    <p class="no-results-description">
                        Try adjusting your search terms or filters
                    </p>
                    <button class="no-results-cta" id="clear-search">Clear Search</button>
                </div>
            </section>
        </main>

        <!-- Loading state overlay -->
        <div class="loading-overlay" id="loading-overlay" style="display: none;" aria-hidden="true">
            <div class="loading-spinner"></div>
            <p class="loading-text">Loading your notes...</p>
        </div>
    </div>

    <!-- Add/Edit Note Modal -->
    <div class="modal-overlay" id="modal-overlay" style="display: none;" aria-hidden="true">
        <div class="modal" role="dialog" aria-labelledby="modal-title" aria-describedby="modal-description">
            <header class="modal-header">
                <h2 id="modal-title" class="modal-title">Add New Note</h2>
                <button class="modal-close" 
                        id="modal-close" 
                        aria-label="Close modal"
                        title="Close (Esc)">
                    ‚úï
                </button>
            </header>
            
            <div class="modal-body">
                <form id="note-form" class="note-form" novalidate>
                    <div class="form-group">
                        <label for="note-title" class="form-label">
                            Title <span class="optional">(optional)</span>
                        </label>
                        <input type="text" 
                               id="note-title" 
                               class="form-input"
                               placeholder="Auto-generated from content..."
                               maxlength="100"
                               aria-describedby="title-help">
                        <div id="title-help" class="form-help">
                            Leave blank to auto-generate from your note content
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="note-content" class="form-label required">
                            Content
                        </label>
                        <textarea id="note-content" 
                                  class="form-textarea"
                                  placeholder="What did you learn today? Describe your coding insights, MCP tools discovered, workflow improvements..."
                                  required
                                  minlength="3"
                                  maxlength="2000"
                                  aria-describedby="content-help content-count"></textarea>
                        <div class="form-footer">
                            <div id="content-help" class="form-help">
                                Supports basic markdown formatting
                            </div>
                            <div id="content-count" class="character-count">
                                <span id="char-count">0</span>/2000
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="note-tags" class="form-label">
                            Tags <span class="optional">(optional)</span>
                        </label>
                        <input type="text" 
                               id="note-tags" 
                               class="form-input"
                               placeholder="mcp-tool, best-practice, debugging..."
                               aria-describedby="tags-help">
                        <div id="tags-help" class="form-help">
                            Separate multiple tags with commas. Smart suggestions will appear as you type.
                        </div>
                        
                        <!-- Tag suggestions -->
                        <div class="tag-suggestions" id="tag-suggestions" style="display: none;">
                            <!-- Dynamic tag suggestions will be inserted here -->
                        </div>
                    </div>
                    
                    <!-- Todo checkbox -->
                    <div class="form-group">
                        <label class="checkbox-label" for="note-is-todo">
                            <input type="checkbox" 
                                   id="note-is-todo" 
                                   class="form-checkbox"
                                   aria-describedby="todo-help">
                            <span class="checkbox-text">Mark as todo item</span>
                        </label>
                        <div id="todo-help" class="form-help">
                            Todo items can be checked off as completed and filtered separately
                        </div>
                    </div>
                    
                    <!-- Form validation errors -->
                    <div class="form-errors" id="form-errors" style="display: none;" role="alert" aria-live="polite">
                        <!-- Error messages will be inserted here -->
                    </div>
                    
                    <!-- Form actions -->
                    <div class="form-actions">
                        <button type="button" 
                                class="btn btn-secondary" 
                                id="cancel-btn">
                            Cancel
                        </button>
                        <button type="submit" 
                                class="btn btn-primary" 
                                id="save-btn">
                            <span class="btn-text">Save Note</span>
                            <span class="btn-loading" style="display: none;">Saving...</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Confirmation modal for destructive actions -->
    <div class="modal-overlay" id="confirm-modal-overlay" style="display: none;" aria-hidden="true">
        <div class="modal confirm-modal" role="alertdialog" aria-labelledby="confirm-title" aria-describedby="confirm-description">
            <header class="modal-header">
                <h2 id="confirm-title" class="modal-title">Confirm Action</h2>
            </header>
            
            <div class="modal-body">
                <p id="confirm-description" class="confirm-description">
                    Are you sure you want to delete this note? This action cannot be undone.
                </p>
                
                <div class="form-actions">
                    <button type="button" 
                            class="btn btn-secondary" 
                            id="confirm-cancel">
                        Cancel
                    </button>
                    <button type="button" 
                            class="btn btn-danger" 
                            id="confirm-action">
                        Delete Note
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Success/Error Toast Notifications -->
    <div class="toast-container" id="toast-container" aria-live="polite" aria-atomic="true">
        <!-- Toast messages will be dynamically inserted here -->
        <!-- Example toast structure:
        <div class="toast toast-success" role="alert">
            <div class="toast-content">
                <span class="toast-icon">‚úÖ</span>
                <span class="toast-message">Note saved successfully!</span>
            </div>
            <button class="toast-close" aria-label="Dismiss notification">‚úï</button>
        </div>
        -->
    </div>

    <!-- Keyboard shortcuts help (hidden by default) -->
    <div class="shortcuts-help" id="shortcuts-help" style="display: none;">
        <h3>Keyboard Shortcuts</h3>
        <dl>
            <dt>Ctrl + N</dt>
            <dd>Add new note</dd>
            <dt>Ctrl + F</dt>
            <dd>Focus search</dd>
            <dt>Escape</dt>
            <dd>Close modal/clear search</dd>
            <dt>Enter</dt>
            <dd>Save note (in modal)</dd>
        </dl>
    </div>

    <!-- JavaScript -->
    <script src="scripts/main.js"></script>
    
    <!-- Service Worker Registration (for future PWA features) -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('SW registered: ', registration);
                    })
                    .catch(registrationError => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>
</body>
</html>